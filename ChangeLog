2003-11-06  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c (_parse_line): Fixed some funny parsing
	code.
2003-11-03  Albert Chu  <chu11@llnl.gov>

	* man/genders_list.3: Added note about genders databases without
	any attributes.

	* man/genders_getattr.3, man/genders_testattr.3: Added additional
	note under GENDERS_ERR_NOTFOUND error.

	* tagged genders-1-3-0-pre2

2003-11-02  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/list.h, src/libgenders/list.c,
	src/libgenders/fd.h, src/libgenders/fd.c: New files.

	* src/libgenders/genders.c: Re-written to use file descriptor and
	list library code.  Re-ordered error code return priority in many
	functions.

	* src/libgenders/genders.c (genders_load_data): Added corner case
	fix for genders databases with no nodes listed.

	* src/libgenders/Makefile.am: Incorporated new fd and list code.

	* src/nodeattr/nodeattr.c: Removed all code surrounded by "#if 0"
	and "#endif".

	* configure.ac: Replaced --with-xs-prefix and
	--with-genders-pm-prefix options with --with-perl-install-prefix
	option.

	* src/Libgenders/Makefile.am, src/Genders/Makefile.am: Modified
	for above change in configure.ac.

	* src/libgenders/genders_example.c: Cleaned up code.
	
2003-09-26  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c (_insert_attrval_listnode): Fix bug
	that parsed database incorrectly.

	* tagged genders-1-3-0-pre1
	
2003-09-23  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c (genders_parse): Fixed one remaining
	mistake maximum length handling code.

	* man/genders_getnodes.3: Fixed typo, cosnt -> const.

2003-09-22  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c (genders_parse): Fixed logic error with
	output for length of line exceeding maximum length.

2003-09-20  Albert Chu  <chu11@llnl.gov>

	Enhanced performance of genders database input based on profile
	analysis.

	* src/libgenders/genders.c (_getline): Removed function.

	* src/libgenders/genders.c (_readline): Function no longer creates
	a buffer for the genders database line.  Takes a buffer as a
	parameter.  Returns GENDERS_ERR_OVERFLOW on buffer overflow.  

	* src/libgenders/genders.c (genders_load_data, genders_parse):
	Functions modified to use _readline instead of _getline.

	* src/libgenders/genders.c (genders_parse): Added message output
	informing user that a line in the genders file is too long.

	* man/genders_load_data.3, man/genders_parse.3: Added information
	regarding new GENDERS_ERR_OVERFLOW error that can be returned.

	* src/libgenders/genders.c (_insert_attr_listnode,
	genders_getnodes): Minor code cleanup fix.
	
2003-09-19  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c (_parse_line): Added code to remove
	trailing white space on each line of the genders database.

	* src/libgenders/genders.c (_parse_line): Fixed a segfault corner
	case for nodes that do not have any attributes.

2003-09-11  Albert Chu  <chu11@llnl.gov>

	Modified build files

	* configure.ac: 
	Added output of genders.spec.
	Added call to AC_META.

	* genders.spec: Removed file.

	* genders.spec.in: New file, which replaces genders.spec.

	* config/ac_meta.m4: New file.

	* Removed all Makefile.in files and config files that will be
	generatd by bootstrap from the repository.

2003-08-18  Albert Chu  <chu11@llnl.gov>

	* man/: Replaced "Release 1.2" with "August 2003" in all manpages,
	to stay consistent with other package's manpages.

2003-08-15  Albert Chu  <chu11@llnl.gov>

	* src/Genders/Genders.pm: Remove automatic exports.

	* src/Libgenders/Libgenders.xs (genders_set_errnum): Added this
	undocumented function.

2003-08-13  Albert Chu  <chu11@llnl.gov>

	* src/Libgenders/MANFIEST: Remove pointless files from file list.

	* src/Libgenders/README: Removed File.

2003-08-12  Albert Chu  <chu11@llnl.gov>

	* genders.sample: Added "all" and "cluster=test" to each node in
	the sample genders database.

2003-08-04  Albert Chu  <chu11@llnl.gov>

	* src/nodeattr/nodeattr.c: Removed -r and -C options. 

	* man/nodeattr.1: Remove references to -r and -C options.

	* ChangeLog: Rewritten to conform to GNU standards.
	
	* Tagged genders-1-2-1

2003-07-15  Albert Chu  <chu11@llnl.gov>

	* Tagged genders-1-2-0-pre0

2003-05-15  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c: Code cleaned up.
 
	* src/libgenders/genders.c (genders_testnode): Renamed to
	genders_isnode.

	* src/libgenders/genders.c (genders_isattr, genders_isattrval):
	New Functions.

	* src/libgenders/genders.c (genders_load_data): Removed memory leak.

	* src/nodeattr/nodeattr.c: Added warning message about future
	removal of -C option.

	* src/Libgenders/Libgenders.pm: Added perldoc manpage.
	
	* src/Libgenders/Libgenders.xs: Added accessor functions for
	genders error codes and constants.
	
	* src/Libgenders/Libgenders.xs: Rewritten to be an Object-Oriented
	API.
	
	* src/Genders/Genders.pm: New File.
	
	* man/genders_testnode.3: Removed

	* man/genders_isnode.3, man/genders_isattr.3,
	man/genders_isattrval.3: New Files.

	* dist subpackage: Removed. 

	* Tagged genders-1-1-10pre.
	
2003-04-24  Albert Chu  <chu11@llnl.gov>

	* src/libgenders/genders.c: Rewritten.

	* src/libgenders/genders.c (genders_open): Renamed to
	genders_load_data.
	
	* src/libgenders/genders.h.in: 
	Renamed GENDERS_ERR_NOTOPEN to GENDERS_ERR_NOTLOADED.  
	Renamed GENDERS_ERR_NOTCLOSED to GENDERS_ERR_ISLOADED.  
	Added GENDERS_ERR_NULLHANDLE and GENDERS_ERR_ERRNUMRANGE error codes.
	Removed GENDERS_ALTNAME_ATTRIBUTE, GENDERS_ALL_ATTRIBUTE, and
	GENDERS_CLUSTER_ATTRIBUTE.

	* src/libgenders/genders.c: Return appropriate new error codes,
	GENDERS_ERR_NOTCLOSED, GENDERS_ERR_ISLOADED, and
	GENDERS_ERR_NULLHANDLE.
	
	* src/libgenders/genders.c (genders_errnum, genders_strerror):
	Handle new error codes GENDERS_ERR_NULLHANDLE and
	GENDERS_ERR_ERRNUMRANGE.
	
	* src/libgenders/genders.c: Removed parse checks for "all" and
	"cluster" attributes in genders file.

	* genders.sample: Removed "cluster" and "all" attributes from sample.
	
	* src/libgenders/genders.c (genders_close, genders_elapsedtime): 
	Removed.
	
	* man/genders_open.3: Removed

	* man/genders_load_data.3: Added

	* Manpages updated to reflect new error codes.

	* Organization of project files reworked. 

	* Created compat and dist subpackages.
	
	* Tagged genders-1-1-9.
		
2003-04-14  Albert Chu  <chu11@llnl.gov>

	* Libgenders.xs (string_constant): Uses SV * instead of char *.
	
	* genders.spec: Added proper prefix to configuration so
	libgenders.la is built correctly.
	
	* Tagged genders-1-1-8.

2003-04-09  Albert Chu  <chu11@llnl.gov>

	* Added Libgenders Perl Extension library.
	
	* gendlib.pl: Updated to use Libgenders perl extension.
	
	* dist2.1: Removed reference to "/etc/cluster".
	
	* Tagged genders-1-1-7.

2003-04-01  Albert Chu  <chu11@llnl.gov>

	* genders.c (genders_open): Added parse checks for "cluster" and
	"all" attributes.
	
	* genders.c (genders_parse): New API Function.

	* genders.h (genders_parse): New API Function.

	* genders_parse.3: New File.
	
	* nodeattr.c: Added --check (-k) option.
	
	* genders.c: Cleaned up code.
	
	* genders.sample: Added "cluster" and "all" to sample.
	
	* Tagged genders-1-1-6.
	
2003-04-01  Jim Garlick  <garlick@llnl.gov>

	* nodeattr.c: Fixed -r option to return primary hostname when
	  altname lookup fails.
	
	* Tagged genders-1-1-5.

2003-03-31  Albert Chu  <chu11@llnl.gov>

	* genders.c: Fixed magic numbers error.

	* nodeattr.c: nodeattr.c binary installed instead of nodeattr perl
	script.

	* gendlib.pl: Removed dependence on /etc/clusters.

	* dist2: Removed dependence on /etc/clusters.

	* gendlib.3, dist2.1: Updated with above changes.
	
	* Tagged genders-1-1-4

2003-03-12  Albert Chu  <chu11@llnl.gov>

	* genders.h: 
	Moved unnecessary #include and #defines to genders.c.
	Added GENDERS_ERR_NULLPTR error code.
	
	* genders.c: 
	Added magic numbers to genders context.
	Fixed corner case errors based on test suite results.
	
	* genders.c (genders_testattr): Added buffer length parameter.

	* genders.c (genders_list_clear): Added corner case check.
	
	* genders.c (genders_getmaxnodenamelen): Renamed to genders_getmaxnodelen.

	* genders.c (genders_testnode, genders_errormsg): New Functions.

	* genders_testnode.3, genders_handle_destroy.3, genders_errormsg.3:
	New Files.

	* genders_testattr.3: Modified for API change.
	
	* genders_errors.3: Updated to include genders_errormsg.

        * Tagged genders-1-1-3.

2003-03-07  Albert Chu  <chu11@llnl.gov>

	* Libgenders manpages added.

	* genders.c (genders_errormsg): New Function.

	* Tagged genders-1-1-2.

2003-02-19  Albert Chu  <chu11@llnl.gov>

        * genders.h: Fixed comments.

2003-02-10  Albert Chu  <chu11@llnl.gov>

	* genders.c, genders.h, nodeattr.c: New Files.

	* META, genders.spec, Makefile.am: Updated for new additions.
	
	* Tagged genders-1-1-1.

2003-01-21  Jim Garlick  <garlick@llnl.gov>

	* Tag genders-1-0-2

2002-12-08  Jim Garlick  <garlick@llnl.gov>

	* inst.c: Ran through "indent --no-tabs -kr *.[ch]". 

	* DISCLAIMER: Updated in accordance to release instructions.

	* Added headers to source files in accordance to release instructions.

	* Added vi footers in all scripts and source files.
	
        * Make-rpm.mk: Updated to latest project.
	
        * Tagged genders-1-0-1chaos.

2002-09-13  Jim Garlick  <garlick@llnl.gov>

	* ChangeLog: Reformmated.

	* Changed ksh to sh in shell scripts

	* Make-rpm.mk: Updated to latest.

	* Tagged genders-0-2-7chaos.

2002-05-31  Jim Garlick  <garlick@llnl.gov>

	* dist2: Removed -r optoin. Added -i option.

	* dist2.1: Updated to reflect changes.
	
	* Tagged genders-0-2-6chaos.

2002-05-24  Jim Garlick  <garlick@llnl.gov>
	* Added -r option to nodeattr in dist_all.
	* Tagged genders-0-2-5chaos.

2002-04-24  Jim Garlick  <garlick@llnl.gov>
	
	* TUTORIAL: Cleaned up.
	
	* genders.spec: Removed updatefstab and updateservice.
	
	* Tagged genders-0-2-4chaos.

2002-04-23  Jim Garlick  <garlick@llnl.gov>
	
	* TUTORIAL: New File.

	* Updated to Chris Dunlap's latest RPM rules.

	* Removed updatefstab and updateservice scripts per Robin
	Goldstone's request.

	* Sent to Rand at LANL.
	
	* Tagged genders-0-2-3chaos.
	

2001-07-14  Jim Garlick  <garlick@llnl.gov>

	* Updated to Chris Dunlap's latest RPM rules.

	* updatefstab, updateservice: New Files.

	* Tagged genders-0-2-2.

2001-07-14  Jim Garlick  <garlick@llnl.gov>

	* Makefile: Added RPM target.

	* Tagged genders-0-2.

2001-07-14  Jim Garlick  <garlick@llnl.gov>

	* genders.spec, DISCLAIMER: New Files.

	* dist_passwd: Removed File.

	* Tagged genders-0-1.

XXXX-XX-XX  Jim Garlick  <garlick@llnl.gov>

	Following are early notes on modifications and additions.
	
	* Path changes: 
	  /admin/bin/per	-> /usr/bin/perl
	  /admin/etc/genders 	-> /etc/genders
	  /admin/etc/clusters	-> /etc/clusters
	  /admin/lib/gendlib.pl	-> /usr/lib/genders/gendlib.pl
	  /admin/scripts/dist2	-> /usr/bin/dist2
	  /var/dist/bootstrap	-> /usr/bin/dist_bootstrap

	* Now that we have an RPM, dist_bootstrap only has to copy out
	  /etc/genders and /etc/clusters.

	* Makefile only attempts to build inst.

	* Remove "require 5.003" lines; instead require perl in spec file.

	* Removed herolib.pl stuff temporarily.  It needs to be merged back in.

	* If not PSSP, assume /usr/bin/rdist is USC rdist, and default rsh 
	  is OK.

	* Only include sdrlib.pl in gendlib.pl.  Genders::to_altnames and
	  Genders::to_gendnames now provide conversion between genders 
	  hostnames and alternate hostnames.  On the SP, this is accomplished 
	  using the sdrlib functions which access the initial_hostname and 
	  reliable_hostname SDR attributes.  On other systems, "altname" 
	  genders attribute holds the alternate hostname (gendlib.pl, dist2).

	* Added "-c <cluster>" option.  This tells dist2 to use 
	  /admin/etc/genders.<cluster> instead of the default.  Handy for 
	  rdisting to a foreign cluster, e.g. one that is behind a bastion 
	  host that can mount /var/dist (but inside can't mount it) (dist2).

	* Added "-o <options>" option.  List of options are passed
	  through to the real rdist, e.g. "dist2 -o verify" (dist2).

	* Don't look for /var/dist/VAR_DIST_IS_MOUNTED if "-f Distfile" option
	  specified (dist2).

	* If -n option specified, implicitly set -v (dist2).

	* GNU fileutils 4.0p include install program with -C option.
	  This is the main reason for having the 'inst' utility, therefore it
	  should now be considered deprecated.  Update your rdist Makefiles
	  to use GNU install -C.

	* Removed jmd stuff (hostlist.pl).
